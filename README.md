# Emoji_Map 表情图库 APP
## 一、功能介绍

该表情图库工具是一款轻量级的安卓app应用，允许用户从本地文件夹导入图片文件，并以网格形式展示。同时支持图片管理与查看功能，适合需要快速管理或浏览本地图像文件的用户。

---

### 功能特点

1. **文件夹导入**  
   - 支持选择本地文件，加载选择的图片（支持常见图片格式，如 JPEG、PNG 等）。
   - 每次导入新文件时，已加载的图片会保留，避免被覆盖。

2. **图片展示**  
   - 图片以网格形式排列，简洁美观，支持缩略图查看。
   - 界面响应式设计，适配不同屏幕大小。

3. **图片管理**  
   - **删除功能**：每张图片右上角都有一个删除按钮（`X`），点击后即可移除该图片。
   - 删除操作实时更新，不影响已加载的其他图片。
   - 允许随时添加新的图片

4. **大图查看**  
   - 点击缩略图后，打开模态窗口查看图片大图。
   - 模态窗口支持：
     - 背景蒙层，突出显示图片。
     - 点击窗口外部或关闭按钮关闭大图视图。

5. **去重加载**  
   - 自动检测是否已加载同名文件，避免重复加载图片。

---

### 使用场景

- **表情收藏与管理**  
  快速整理和管理本地表情包，删除不需要的表情，方便分类或分享。
  
- **图库浏览**  
  快速预览大量图片文件而无需借助专业工具。

- **轻量级图像查看**  
  不依赖任何安装软件，即开即用，操作简单，体验流畅。

---

### 用户体验优势

- **直观简洁**：无需繁琐配置或操作，一键导入、快速管理。
- **高效流畅**：支持加载和浏览超过 1000 张图片，性能表现优异。
- **完全本地化**：所有图片数据均保存在本地，不上传至云端，保护隐私。

---

### 如何使用

1. 打开app应用，点击“选择文件夹”按钮。
2. 导入图片，所有图片会以网格形式显示。
3. 点击图片缩略图查看大图，或点击右上角 `X` 按钮删除图片。
4. 继续导入其他文件，页面会保留之前已加载的图片。

---

## 二、程序概要设计

---

### 1. **项目概述**
Emoji_Map 表情图库管理工具是一款轻量级图片管理工具。用户可以导入本地文件夹中的图片，并以网格形式展示缩略图，同时支持大图查看和管理功能（如删除图片）。应用适合用于快速整理和查看本地图片文件，尤其是表情包。

---

### 2. **设计目标**

- **功能性**  
  提供图片导入、展示、删除和查看等核心功能，满足基础图片管理需求。
  
- **用户体验**  
  保持界面简洁直观，图片加载与交互流畅。
  
- **兼容性**  
  支持主流安卓版本，无需安装额外插件或软件。

- **性能优化**  
  能够快速加载超过 1000 张图片，保证流畅的滚动与交互体验。

---

### 3. **主要功能设计**

#### 3.1 图片加载
- 用户通过 `<input type="file" webkitdirectory>` 选择本地文件夹。
- 使用 `FileReader` 读取本地文件并生成图片的 Base64 数据。
- 每次加载时检查已加载文件，避免重复导入相同图片。
- 将新加载的图片以缩略图形式动态添加到网格中。

#### 3.2 图片展示
- 使用响应式 CSS Grid 布局，实现网格展示效果。
- 缩略图支持悬停缩放效果，提升用户体验。
- 图片右上角添加删除按钮，方便用户删除图片。

#### 3.3 大图查看
- 点击图片缩略图时，弹出模态窗口，显示大图。
- 支持模态窗口背景蒙层，突出显示大图。
- 点击关闭按钮或窗口外部区域，关闭大图视图。

#### 3.4 图片管理
- 删除功能：为每张图片添加右上角 `X` 按钮，点击后移除图片。
- 删除操作不仅从界面移除图片，还从加载文件列表中移除，以防止重复。

---

### 4. **技术实现**

#### 4.1 前端技术栈
- **HTML**：构建页面结构，包括文件选择器、图片展示容器和模态窗口。
- **CSS**：实现响应式设计、网格布局、模态窗口样式及按钮交互效果。
- **JavaScript**：
  - 动态生成 DOM 元素。
  - 使用 `FileReader` 实现本地图片文件的读取。
  - 实现事件处理，如文件选择、图片点击和删除等操作。

#### 4.2 核心模块
| 模块名称        | 功能描述                                                                                                                                                     |
|-----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 文件导入模块    | 使用文件选择器 (`<input type="file">`) 加载用户选定的文件夹，并将其中的图片文件读取为 Base64 数据。                                                                  |
| 图片展示模块    | 动态生成缩略图展示网格，响应用户交互（如点击图片查看大图、点击删除按钮移除图片）。                                                                                     |
| 模态窗口模块    | 实现图片大图查看，支持关闭按钮和背景区域点击关闭模态窗口。                                                                                                    |
| 文件管理模块    | 使用数组 `loadedFiles` 维护已加载文件的信息，防止重复加载。支持删除图片时更新数组以保持同步。                                                                            |

---

### 5. **系统交互流程**

1. **文件选择**  
   用户点击“选择文件”按钮，通过 `<input>` 组件选择本地文件夹。文件夹中的图片文件将被读取，并生成对应的缩略图展示在页面中。

2. **图片加载与去重**  
   - 使用 `FileReader` 读取每个图片文件，转换为 Base64 数据后动态生成 HTML 元素（缩略图）。
   - 在加载前检查文件名是否已存在于 `loadedFiles` 数组，避免重复加载。

3. **图片交互**  
   - **查看大图**：用户点击缩略图时，打开模态窗口并显示大图。
   - **删除图片**：用户点击图片右上角的删除按钮，图片从页面网格和 `loadedFiles` 数组中移除。

4. **多次导入文件**  
   用户可以多次选择文件，每次选择会将新文件添加到已加载的图片列表中，保留之前的图片。

---

### 6. **软件架构**
模块划分如下：

```
+-----------------------------+
|     文件导入模块             |
|  (选择文件夹并读取图片文件)   |
+-----------------------------+
                ↓
+-----------------------------+
|    图片展示模块              |
|  (动态生成缩略图网格)         |
+-----------------------------+
                ↓
+-----------------------------+
|    模态窗口模块              |
|  (点击图片查看大图)           |
+-----------------------------+
                ↓
+---------------------------------+
|    文件管理模块                  |
|  (维护已加载文件列表，支持删除)   |
+---------------------------------+
```

---

### 7. **UI设计概述**

- **主界面布局**  
  - 顶部为工具标题。
  - 中间为文件夹选择按钮。
  - 下方为图片网格展示区域。

- **交互设计**  
  - 图片缩略图有悬停缩放效果。
  - 图片点击后弹出模态窗口查看大图。
  - 删除按钮位于图片右上角，点击后即时移除图片。

---

### 8. **性能优化**

- **懒加载**：若图片数量超过阈值（如 1000 张），可加入懒加载功能，按需加载图片。
- **缩略图生成**：使用 `FileReader` 将文件转换为 Base64 数据，快速生成缩略图，无需依赖外部资源。
- **去重逻辑**：通过维护文件数组（`loadedFiles`），避免重复加载，提高性能。

---

### 9. **开发环境**

- **开发工具**：vscode + edge
- **运行环境**：Android 7.0 及以上

---

### 10. **扩展功能**

- 支持图片拖拽排序。
- 增加图片标签或分类功能。
- 导出已选图片至指定文件夹。

---
